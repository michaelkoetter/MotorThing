<home class="app-page">
    <header class="header-bar">
        <div class="center">
            <h1 class="title">MotorThing</h1>
        </div>
    </header>
    <div class="content">

        <ul class="list" if="{module}">
            <li class="divider">Module: { module.version }</li>
            <li><a class="padded-list" href="#!velocity">Velocity Mode</a></li>
        </ul>
        <div class="content padded-full" if="{loading}">
          <div class="circle-progress active">
              <div class="spinner"></div>
          </div>
        </div>
    </div>

    <script>
        self = this;
        this.loading = true;

        this.on('create', function() {
          tmcl.getModuleInfo(function(res) {
              console.log(res);
              self.module = res;
              self.loading = false;
              self.update();
            }, function(res, error) {
              console.error(error);
              console.log(res);
              self.loading = false;
              self.update();
              phonon.alert('Could not connect to TMCL module.',
                'TMCL error', false, 'Close');
            });
        });
    </script>
</home>
